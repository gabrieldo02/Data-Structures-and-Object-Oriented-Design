<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 1</title>
    <link rel="stylesheet" href="/cs104/assets/css/styles.css">
    <script type="text/javascript" src="/cs104/assets/js/theme.js"></script>
  </head>

  <script type="text/javascript" async
	src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     extensions: ["tex2jax.js"],
     jax: ["input/TeX", "output/HTML-CSS"],
     tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
       processEscapes: true
     },
     "HTML-CSS": { availableFonts: ["TeX"] }
   });
</script>


  <body class="night">
    
    <div id="navigation">
      <div class="item"><a href="/cs104/">CSCI 104</a></div>
      
      
      
      
      <div class="item">
        <a href="/cs104/staff/">Staff</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/schedule/">Schedule</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/homework/">Homework</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/labs/">Labs</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/exercises/">Exercises</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/syllabus/">Syllabus</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/sections/">Sections</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/wiki/">Wiki</a>
      </div>
      
      
      
      <div class="item">
        <a href="/cs104/resources/">Resources</a>
      </div>
      
      
      <div class="spacer"></div>
      <div class="item">
        <img src="/cs104/assets/img/icon/sun.svg" class="theme-toggle light" />
        <img src="/cs104/assets/img/icon/moon.svg" class="theme-toggle dark" />
      </div>
    </div>
    
    <div class="asides">
  <div class="aside left">
    
    <div class="toc">
      <a class="header" href="/cs104/">CSCI 104</a>
      <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#homework-1">Homework 1</a></li>
<li class="toc-entry toc-h2"><a href="#written-portion">Written Portion</a>
<ul>
<li class="toc-entry toc-h3"><a href="#a-few-notes-on-repositories">A Few Notes on Repositories</a></li>
<li class="toc-entry toc-h3"><a href="#skeleton-code">Skeleton Code</a></li>
<li class="toc-entry toc-h3"><a href="#problem-1---course-policies-12">Problem 1 - Course Policies (12%)</a>
<ul>
<li class="toc-entry toc-h4"><a href="#part-a">Part (a):</a></li>
<li class="toc-entry toc-h4"><a href="#part-b">Part (b):</a></li>
<li class="toc-entry toc-h4"><a href="#partc">Part(c):</a></li>
<li class="toc-entry toc-h4"><a href="#partd">Part(d):</a></li>
<li class="toc-entry toc-h4"><a href="#part-e">Part (e):</a></li>
<li class="toc-entry toc-h4"><a href="#part-f">Part (f):</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#problem-2---git-6">Problem 2 - Git (6%)</a>
<ul>
<li class="toc-entry toc-h4"><a href="#part-a-1">Part (a):</a></li>
<li class="toc-entry toc-h4"><a href="#part-b-1">Part (b):</a></li>
<li class="toc-entry toc-h4"><a href="#part-c">Part (c)</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#problem-3---runtime-analysis-24">Problem 3 - Runtime Analysis (24%)</a>
<ul>
<li class="toc-entry toc-h4"><a href="#part-a-2">Part (a)</a></li>
<li class="toc-entry toc-h4"><a href="#part-b-2">Part (b)</a></li>
<li class="toc-entry toc-h4"><a href="#part-c-1">Part (c)</a></li>
<li class="toc-entry toc-h4"><a href="#part-d">Part (d)</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#problem-4---not-graded-practice-only---constructors-and-destructors-0">Problem 4 - NOT GRADED (PRACTICE ONLY) - Constructors and Destructors (0%)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#programming-portion">Programming Portion</a>
<ul>
<li class="toc-entry toc-h3"><a href="#problem-5---labellist-classes-pointers-linkedlists-58">Problem 5 - LabelList (Classes, Pointers, LinkedLists) (58%)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#labellist-multi-level-doubly-linked-list">LabelList (Multi-level Doubly-Linked List)</a>
<ul>
<li class="toc-entry toc-h3"><a href="#how-to-approach-this-assignment">How To Approach This Assignment</a></li>
<li class="toc-entry toc-h3"><a href="#introduction">Introduction</a></li>
<li class="toc-entry toc-h3"><a href="#approach-and-motivation">Approach and Motivation</a></li>
<li class="toc-entry toc-h3"><a href="#basic-implementation">Basic Implementation</a>
<ul>
<li class="toc-entry toc-h4"><a href="#labellist-class">LabelList class</a></li>
<li class="toc-entry toc-h4"><a href="#msgnode">MsgNode</a></li>
<li class="toc-entry toc-h4"><a href="#msgtoken">MsgToken</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#c-and-background-information">C++ and Background Information</a>
<ul>
<li class="toc-entry toc-h4"><a href="#forward-declarations">Forward declarations</a></li>
<li class="toc-entry toc-h4"><a href="#friend-classes">Friend classes</a></li>
<li class="toc-entry toc-h4"><a href="#static-members">Static members</a></li>
<li class="toc-entry toc-h4"><a href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#implementation-tasks">Implementation Tasks</a></li>
<li class="toc-entry toc-h3"><a href="#coding-and-testing">Coding and Testing</a>
<ul>
<li class="toc-entry toc-h4"><a href="#coding-approach">Coding Approach</a></li>
<li class="toc-entry toc-h4"><a href="#unit-tests">Unit Tests</a></li>
<li class="toc-entry toc-h4"><a href="#using-valgrind">Using Valgrind</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#requirements">Requirements</a></li>
<li class="toc-entry toc-h3"><a href="#related-videos">Related Videos</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#checkpoint">Checkpoint</a></li>
<li class="toc-entry toc-h2"><a href="#submission-files">Submission Files</a>
<ul>
<li class="toc-entry toc-h3"><a href="#commit-then-re-clone-your-repository">Commit then Re-clone your Repository</a></li>
</ul>
</li>
</ul>
      <span class="spacer"></span>
      
    </div>
    
  </div>
  <div id="content" >
    <h2 id="homework-1">
<a class="anchor" href="#homework-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Homework 1</h2>

<ul>
  <li>Due: See <a href="http://localhost:4000/homework/index.html">assignments page</a>
</li>
  <li>Directory name in your github repository for this homework (case sensitive): <code class="language-plaintext highlighter-rouge">hw1</code>
    <ul>
      <li>Once you have cloned your <code class="language-plaintext highlighter-rouge">hw-username</code> repo, create this <code class="language-plaintext highlighter-rouge">hw1</code> folder underneath it (i.e. <code class="language-plaintext highlighter-rouge">hw-username/hw1</code>)</li>
      <li>If your <code class="language-plaintext highlighter-rouge">hw-username</code> repo has not been created yet, please do your work in a separate folder and you can copy over relevant files before submitting</li>
    </ul>
  </li>
</ul>

<h2 id="written-portion">
<a class="anchor" href="#written-portion" aria-hidden="true"><span class="octicon octicon-link"></span></a>Written Portion</h2>

<h3 id="a-few-notes-on-repositories">
<a class="anchor" href="#a-few-notes-on-repositories" aria-hidden="true"><span class="octicon octicon-link"></span></a>A Few Notes on Repositories</h3>

<ol>
  <li>Never clone one repo into another.  If you have a folder <code class="language-plaintext highlighter-rouge">cs104</code> on your VM, Docker, or laptop (wherever you created your Github keys from Lab 1) and you clone your personal repo <code class="language-plaintext highlighter-rouge">hw-username</code> under it (i.e. <code class="language-plaintext highlighter-rouge">cs104/hw-username</code>) then whenever you want to clone some other repo, you need to do it back up in the <code class="language-plaintext highlighter-rouge">cs104</code> folder or other location, NOT in the <code class="language-plaintext highlighter-rouge">hw-username</code> folder.</li>
  <li>Your repos may not be ready immediately but be sure to create your GitHub account described in Lab 0 on the <a href="http://localhost:4000/labs/index.html">Labs Page</a>. If you’ve followed those steps and still cannot access your repository, you can then make a private post on the <a href="https://piazza.com/class/ky4usd024l43mm">class Q&amp;A</a> to let your instructors know that your repository needs to be created.  Be sure to include your USC username and github username for reference.</li>
</ol>

<h3 id="skeleton-code">
<a class="anchor" href="#skeleton-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Skeleton Code</h3>

<p>On many occasions we will want to distribute skeleton code, tests, and other pertinent files. To do this we have made a separate repository, <a href="https://github.com/usc-csci104-spring2022/resources"><code class="language-plaintext highlighter-rouge">resources</code></a>, under our class GitHub site.  You should clone this repository to your laptop (<strong>but only if you have not already done this as part of lab</strong>) and do a <code class="language-plaintext highlighter-rouge">git pull</code> regularly to check for updates.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone git@github.com:usc-csci104-spring2022/resources
</code></pre></div></div>

<p>Again, be sure you don’t clone this repo into your <code class="language-plaintext highlighter-rouge">hw-username</code> repo but at some higher up point like in a <code class="language-plaintext highlighter-rouge">cs104</code> folder on your laptop.  You can then manually copy (in your OS’s GUI or at the command line) the skeleton files from <code class="language-plaintext highlighter-rouge">resources/hw1</code> to <code class="language-plaintext highlighter-rouge">hw-username/hw1</code>.</p>

<p>For example if you are in the folder containing both the <code class="language-plaintext highlighter-rouge">resources</code> and <code class="language-plaintext highlighter-rouge">hw-username</code> folders/repos, you could enter the following command at the terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cp</span> <span class="nt">-rf</span> resources/hw1 hw-username/
</code></pre></div></div>

<p>Again be sure to replace <code class="language-plaintext highlighter-rouge">hw-username</code> with your USC username (e.g. <code class="language-plaintext highlighter-rouge">hw-ttrojan</code>)</p>

<h3 id="problem-1---course-policies-12">
<a class="anchor" href="#problem-1---course-policies-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 1 - Course Policies (12%)</h3>

<p>Carefully study the information on the <a href="http://localhost:4000">course web site</a>, then answer the following questions about course policies:</p>

<p><strong>Place your answers to this question in a file name <code class="language-plaintext highlighter-rouge">hw1.txt</code> in your <code class="language-plaintext highlighter-rouge">hw-username/hw1</code> folder.</strong></p>

<h4 id="part-a">
<a class="anchor" href="#part-a" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (a):</h4>
<p>Which of the following are acceptable behaviors in solving homeworks/projects (list all that apply)?</p>

<ol>
  <li>Looking up relevant C++ reference information online.</li>
  <li>Looking up or asking for sample solutions online from sites like Chegg, Github, etc.</li>
  <li>Talking to my classmates about general approaches about the problems (but no specific coding statements or description of your own code or someone else’s code).</li>
  <li>Copying code from my classmates or an online source, and then editing it significantly.</li>
  <li>Asking the course staff for help.</li>
  <li>Sitting next to my classmate and coding together as a team or with significant conversation about approach.</li>
  <li>Sharing my code with a classmate, even if he/she just wants to read over it and learn from it</li>
</ol>

<h4 id="part-b">
<a class="anchor" href="#part-b" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (b):</h4>
<p>To dispute a grade on a HW assignment you should (list all that apply):</p>

<ol>
  <li>Email the professor immediately.</li>
  <li>Complete the regrade request form within 1 week of receiving the grade and wait for an issue to be posted to your Github repo.</li>
  <li>Visit the designated regrade TA within 1 week of your score posting.</li>
</ol>

<h4 id="partc">
<a class="anchor" href="#partc" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part(c):</h4>
<p>What is the late submission policy (list all that apply)?</p>

<ol>
  <li>One hour late submission is acceptable for each assignment.</li>
  <li>Each assignment can be submitted up to two days late for 50% credit.</li>
  <li>Each student has 5 late days of which only 2 can be used per HW</li>
  <li>Students need to get an approval before submitting an assignment late.</li>
</ol>

<h4 id="partd">
<a class="anchor" href="#partd" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part(d):</h4>
<p>After pushing your code to Gihub you should…  (list all that apply)</p>

<ol>
  <li>Do nothing.  Once you push your code you are done.</li>
  <li>Clone your repo to a temporary folder to ensure all the files you desire are pushed and that your code compiles.</li>
  <li>Complete the online submission page using your FULL <strong>(30 or more digit)</strong> SHA.</li>
</ol>

<h4 id="part-e">
<a class="anchor" href="#part-e" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (e):</h4>
<p>If you have NO grace days left and it is after the submission deadline, we will accept your assignment under what circumstances  (list all that apply).</p>

<ol>
  <li>None.  We will not accept your submission.</li>
  <li>There is an hour grace period after the deadline.</li>
  <li>If there is a technical difficulty (such as wireless trouble, or github commit/push issues, etc.) with submission.</li>
  <li>If you email us your code as attachments.</li>
</ol>

<h4 id="part-f">
<a class="anchor" href="#part-f" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (f):</h4>
<p>General submission policies (indicate True/False).</p>

<ol>
  <li>
<em>True/False</em>:  Before submitting your HW you should reclone your repo to a separate folder and ensure all files are present and your code compiles.</li>
  <li>
<em>True/False</em>:  If you forget to submit a file via GITHUB you can still apply for a regrade after the deadline and submit the missing file.</li>
  <li>
<em>True/False</em>:  You only have 7 days to submit a regrade for homeworks, unless otherwise stated, and after that you are not eligible for a regrade for ANY reason.</li>
</ol>

<h3 id="problem-2---git-6">
<a class="anchor" href="#problem-2---git-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 2 - Git (6%)</h3>

<p>Carefully review and implement the steps discussed in <a href="http://localhost:4000/labs/lab1/">Lab1</a>. Then, answer the following questions:</p>

<p><strong>Continue your answers to this question in the file name <code class="language-plaintext highlighter-rouge">hw1.txt</code> in your <code class="language-plaintext highlighter-rouge">hw-username/hw1</code> folder.</strong></p>

<h4 id="part-a-1">
<a class="anchor" href="#part-a-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (a):</h4>
<p>When cloning a Git repo, which of the following should you avoid:</p>

<ol>
  <li>Cloning into a folder that itself is a git repo</li>
  <li>Cloning into a sync’ed folder like Dropbox or Google Drive</li>
  <li>Cloning into the <code class="language-plaintext highlighter-rouge">Desktop</code> folder of your VM</li>
</ol>

<h4 id="part-b-1">
<a class="anchor" href="#part-b-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (b):</h4>
<p>Provide the appropriate git command to perform the following operations:</p>

<ol>
  <li>Stage an untracked file to be committed. The file is called ‘hw1q2b.cpp’.</li>
  <li>Display the details of the last three commits in the repository.</li>
</ol>

<h4 id="part-c">
<a class="anchor" href="#part-c" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (c)</h4>
<p>What is the full command to re-clone your private CSCI104 repo to your VM?  Assume you are in an appropriate folder.</p>

<h3 id="problem-3---runtime-analysis-24">
<a class="anchor" href="#problem-3---runtime-analysis-24" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 3 - Runtime Analysis (24%)</h3>

<p>In Big-Θ notation, analyze the running time of the following three pieces of code/pseudo-code. Describe it as a function of the input (here, <code class="language-plaintext highlighter-rouge">n</code>).   Submit your answers as a PDF (using some kind of illustration software or scanned handwritten notes where you use your phone to convert to PDF) showing your work and derivations supporting your final answer.  <strong>You must name the file <code class="language-plaintext highlighter-rouge">q3_answers.pdf</code></strong>.  As usual, answers without supporting work will receive 0 credit.</p>

<h4 id="part-a-2">
<a class="anchor" href="#part-a-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (a)</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">f1</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">){</span>
      <span class="c1">// do something O(1)</span>
      
    <span class="p">}</span>
    <span class="n">n</span> <span class="o">-=</span> <span class="n">t</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h4 id="part-b-2">
<a class="anchor" href="#part-b-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (b)</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Assume</span> <span class="n">A</span> <span class="n">is</span> <span class="n">an</span> <span class="n">array</span> <span class="n">of</span> <span class="n">size</span> <span class="n">n</span><span class="o">+</span><span class="mf">1.</span>

<span class="kt">void</span> <span class="nf">f2</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">){</span>
      <span class="k">if</span><span class="p">(</span> <span class="n">A</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">i</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">m</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="o">+</span><span class="n">m</span><span class="p">){</span>
          <span class="c1">// do something that takes O(1) time</span>
          <span class="c1">// Assume the contents of the A[] array are not changed</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="part-c-1">
<a class="anchor" href="#part-c-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (c)</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kt">void</span> <span class="nf">f3</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="n">f3</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
    <span class="c1">// do something that takes O(1) time</span>
    <span class="n">f3</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="part-d">
<a class="anchor" href="#part-d" aria-hidden="true"><span class="octicon octicon-link"></span></a>Part (d)</h4>

<p>Notice that this code is very similar to what will happen if you keep inserting into an ArrayList (e.g. <code class="language-plaintext highlighter-rouge">vector</code>).  Notice that this is <strong>NOT</strong> an example of amortized analysis because you are only analyzing <em>1</em> call to the function <code class="language-plaintext highlighter-rouge">f()</code>.  If you have discussed amortized analysis, realize that does NOT apply here since amortized analysis applies to <em>multiple</em> calls to a function.  But you may use similar ideas/approaches as amortized analysis to analyze this runtime. If you have NOT discussed amortized analysis, simply ignore it’s mention.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">f</span> <span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span> <span class="p">[</span><span class="mi">10</span><span class="p">];</span>
  <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span> <span class="o">++</span><span class="p">)</span> 
     <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">size</span><span class="p">)</span>
          <span class="p">{</span>  
             <span class="kt">int</span> <span class="n">newsize</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">size</span><span class="p">;</span>
             <span class="kt">int</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span> <span class="p">[</span><span class="n">newsize</span><span class="p">];</span>
             <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="n">j</span> <span class="o">++</span><span class="p">)</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
             <span class="k">delete</span> <span class="p">[]</span> <span class="n">a</span><span class="p">;</span>
             <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
             <span class="n">size</span> <span class="o">=</span> <span class="n">newsize</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">;</span>
     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="problem-4---not-graded-practice-only---constructors-and-destructors-0">
<a class="anchor" href="#problem-4---not-graded-practice-only---constructors-and-destructors-0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 4 - NOT GRADED (PRACTICE ONLY) - Constructors and Destructors (0%)</h3>

<p>Place your answers to the questions below in the same file as your answers to problem 1 and 2 (i.e. <code class="language-plaintext highlighter-rouge">hw1.txt</code>).  You do not need to test and compile the code below. You are just writing out your answers in the <code class="language-plaintext highlighter-rouge">hw1.txt</code> file.</p>

<p>Suppose you were given the following class to model an <em>entry</em> in your contacts list which uses a custom <code class="language-plaintext highlighter-rouge">Str</code> class that models a string and replaces <code class="language-plaintext highlighter-rouge">std::string</code>.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifndef ENTRY_H
#define ENTRY_H
#include</span> <span class="cpf">"str.h"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">Entry</span> <span class="p">{</span>
 <span class="nl">public:</span>
  <span class="n">Entry</span><span class="p">(</span><span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">phone</span><span class="p">);</span>
  <span class="o">~</span><span class="n">Entry</span><span class="p">();</span>
  <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">phone</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

 <span class="nl">private:</span>
  <span class="n">Str</span> <span class="n">name_</span><span class="p">;</span>
  <span class="n">Str</span> <span class="n">phone_</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif
</span></code></pre></div></div>

<p>Further assume that print statements are added to all constructor and destructors that print:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Str</code> in the default and initializing constructor(s)</li>
  <li>
<code class="language-plaintext highlighter-rouge">~Str</code> in the destructor</li>
  <li>
<code class="language-plaintext highlighter-rouge">Copy Str</code> in the copy constructor</li>
  <li>Nothing is printed in the assignment operator(s)</li>
</ul>

<p><strong>Question a</strong>:  If the <code class="language-plaintext highlighter-rouge">Entry</code> constructor is as shown below, what will be printed when a new Entery object is constructed.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Entry</span><span class="o">::</span><span class="n">Entry</span><span class="p">(</span><span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">phone</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Entry"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">name_</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span> 
  <span class="n">phone_</span> <span class="o">=</span> <span class="n">phone</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Question b</strong>:  If the <code class="language-plaintext highlighter-rouge">Entry</code> constructor is as shown below, what will be printed when a new Entry object is constructed.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Entry</span><span class="o">::</span><span class="n">Entry</span><span class="p">(</span><span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">phone</span><span class="p">)</span>
  <span class="o">:</span> <span class="n">name_</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">phone_</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Entry"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Now suppose a new <code class="language-plaintext highlighter-rouge">Wrapper</code> class is written that uses an <code class="language-plaintext highlighter-rouge">Entry</code> as a data member as shown below.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifndef WRAPPER_H
#define WRAPPER_H
#include</span> <span class="cpf">"entry.h"</span><span class="cp">
</span><span class="k">class</span> <span class="nc">Wrapper</span>
<span class="p">{</span>
 <span class="nl">public:</span>
  <span class="n">Wrapper</span><span class="p">(</span><span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">phone</span><span class="p">);</span>
  <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
 <span class="nl">private:</span>
  <span class="n">Entry</span> <span class="n">e_</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif
</span></code></pre></div></div>

<p><strong>Question c</strong>:  Show how to complete the constructor such that the data member <code class="language-plaintext highlighter-rouge">e_</code> is initalized with the arguments <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">phone</code>.  Be sure to avoid any compile errors or runtime errors.  You can always try your code out using a compiler.  Show the entire constructor in your answer (i.e. start by copying the code below and then add to it).</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// initialize e_ with name and phone</span>
<span class="n">Wrapper</span><span class="o">::</span><span class="n">Wrapper</span><span class="p">(</span><span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">Str</span><span class="o">&amp;</span> <span class="n">phone</span><span class="p">)</span>
<span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div>

<h2 id="programming-portion">
<a class="anchor" href="#programming-portion" aria-hidden="true"><span class="octicon octicon-link"></span></a>Programming Portion</h2>

<h3 id="problem-5---labellist-classes-pointers-linkedlists-58">
<a class="anchor" href="#problem-5---labellist-classes-pointers-linkedlists-58" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 5 - LabelList (Classes, Pointers, LinkedLists) (58%)</h3>

<h2 id="labellist-multi-level-doubly-linked-list">
<a class="anchor" href="#labellist-multi-level-doubly-linked-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>LabelList (Multi-level Doubly-Linked List)</h2>

<h3 id="how-to-approach-this-assignment">
<a class="anchor" href="#how-to-approach-this-assignment" aria-hidden="true"><span class="octicon octicon-link"></span></a>How To Approach This Assignment</h3>

<p>We use this homework not just as a coding exercise but to teach aspects of C++, object-oriented design, and rationale for certain data structure choices.  Several of these aspects are discussed in the Motivation and Background Information sections.  Links to other examples or reference material are often provided. Take time to consider these, read more on your own, and ask questions. We recommend you read through the entire assignment once or twice before even considering writing code (though you can look at the skeleton files, especially the header file for reference).</p>

<p>In addition, we suggest you an <strong>incremental</strong> coding/test approach. Avoid the temptation to write the all the code at once. Instead, write one portion (feature), compile, and test it before moving on to the next.  In this way, dealing with compile and debugging errors becomes MUCH more manageable and by committing/pushing your code you can have snapshots of working features.</p>

<h3 id="introduction">
<a class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h3>

<p>This exercise will build your linked list skills and confidence and ability in using pointers.  You will implement a multi-level, doubly-linked list of <em>labelled messages</em> that models something akin to an email mailbox and allows messages to be members of mulitple, user-defined <strong>labels</strong>.  All messages are part of the default <code class="language-plaintext highlighter-rouge">all</code> label, while new labels may be defined at any time by the user.  Each label is represented by a separate doubly-linked containing only those messages that are members of that label.  Messages can be part of any number of labels with a next/previous pointer for each label list, as shown in the diagram below.</p>

<p><img src="/cs104/homework/img/labellist.png" alt="drawing" width="100%" height="auto" id="responsive-image"></p>

<p><em>Note: the <code class="language-plaintext highlighter-rouge">1</code> or <code class="language-plaintext highlighter-rouge">0</code> in the message nodes is a Boolean indicate membership in a given label’s list.</em></p>

<p>New messages are always added to the end of the <code class="language-plaintext highlighter-rouge">all</code> list. Once added, they can be labelled or unlabelled, as desired.  Messages can also be deleted (removed) permanently.  New labels need not be created explicitly by the user, but the first time a label is applied to a message, a new list for that label should be created and the message will added to that new list.  For example, suppose a new label <code class="language-plaintext highlighter-rouge">fam</code> (short for <code class="language-plaintext highlighter-rouge">family</code>) is applied to message 1.  <code class="language-plaintext highlighter-rouge">fam</code> should be added to the list of labels and a new head pointer should be added to the <code class="language-plaintext highlighter-rouge">heads_</code> list.  The index (i.e. <code class="language-plaintext highlighter-rouge">4</code> in the diagram below) of this new label and head pointer should now be used as the index of the <strong>next</strong> and <strong>prev</strong> pointer for this label in each member message’s <code class="language-plaintext highlighter-rouge">next_</code> and <code class="language-plaintext highlighter-rouge">prev_</code> lists.  This will require resizing those vectors (of next and prev pointers) in the message node. (Note that only member messages need to have their next/previous vectors resized, while  messages that are not a member of the new label need not be modified).</p>

<p><em>Effects of adding the label <code class="language-plaintext highlighter-rouge">fam</code> to message 1:</em></p>

<p><img src="/cs104/homework/img/labellist-label.png" alt="drawing" width="100%" height="auto" id="responsive-image"></p>

<p>When a message is unlabeled, it is simply removed from the corresponding list.</p>

<p><em>Effects of unlabeling <code class="language-plaintext highlighter-rouge">usc</code> from message 0:</em></p>

<p><img src="/cs104/homework/img/labellist-unlabel.png" alt="drawing" width="100%" height="auto" id="responsive-image"></p>

<p>Removing a message should delete the entire message node, first unlinking it from all lists of which it is a member.</p>

<p><em>Effects of removing message 0:</em></p>

<p><img src="/cs104/homework/img/labellist-remove.png" alt="drawing" width="100%" height="auto" id="responsive-image"></p>

<h3 id="approach-and-motivation">
<a class="anchor" href="#approach-and-motivation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Approach and Motivation</h3>

<p>Many possible data structures can be implemented to support these operations.  For example, one could simply store all messages in a singly-linked list or vector and then use a separate vector per label that stores pointers to the messages that are members of that label. This would lead to a vector of vectors iemplementation.</p>

<p>However, such an approach lacks two key features we would like to support.</p>
<ol>
  <li>First, having obtained a pointer or reference to a message, we would like to be able to quickly (roughly constant time) find neighboring (next/previous) messages of a different label.  If we had a separate vector per label, we’d need to perform a new search within the new label’s vector for the current message to then find its neighbors.</li>
  <li>Second, erasing a message should be a constant time operation.  Again, we do not want to have to search for the message pointer/reference in each label’s vector.</li>
</ol>

<p><img src="/cs104/homework/img/labellist-motivation1.png" alt="drawing" width="100%" height="auto" id="responsive-image">
<img src="/cs104/homework/img/labellist-motivation2.png" alt="drawing" width="100%" height="auto" id="responsive-image"></p>

<p>Thus, we have chosen to use a multi-level, doubly-linked list approach.  In this implementation, we will have a vector of labels and a vector of head pointers (1 head pointer per label) stored in the <code class="language-plaintext highlighter-rouge">LabelList</code> object.  The index of a label stored in the label vector should correspond to the index of that label’s head pointer.  Each message node we add will have a vector of previous and next pointers as well as a vector of booleans indicating whether the message is a member of the label that corresponds to that level/index.</p>

<p>A further benefit of this approach is that if the client obtains a pointer to a message and then other messages are erased, the original message pointer will still be valid. Unlike vectors where removing an item may shift other elements up to new indices/addresses and thus invalidate pointers held by third parties, the linked list approach allows an item to remain at the same memory address throughout its lifetime and keeps any pointers/references valid, even as other elements are added or removed.</p>

<h3 id="basic-implementation">
<a class="anchor" href="#basic-implementation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Implementation</h3>

<h4 id="labellist-class">
<a class="anchor" href="#labellist-class" aria-hidden="true"><span class="octicon octicon-link"></span></a>LabelList class</h4>

<p>The primary <code class="language-plaintext highlighter-rouge">LabelList</code> class requires only two vectors as data members: a vector of labels (<code class="language-plaintext highlighter-rouge">labels_</code>) and a vector of head pointers (<code class="language-plaintext highlighter-rouge">heads_</code>).  These two vectors should always be the same size.  As new labels are added, new lists (via new head_ pointers) are added to their respective vectors.</p>

<p>All the operations to add, remove, label, unlabel, find, and print messages (that belong to particular labels) will be implemented in the <code class="language-plaintext highlighter-rouge">LabelList</code> class.</p>

<h4 id="msgnode">
<a class="anchor" href="#msgnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>MsgNode</h4>

<p>To model a message and its next/previous pointers, a nested struct <code class="language-plaintext highlighter-rouge">MsgNode</code> has been created to store the actual <code class="language-plaintext highlighter-rouge">string</code> that contains the message, vectors for next and previous pointers, and a vector of <code class="language-plaintext highlighter-rouge">bool</code>s to indicate membership of the given label.  This struct is similar to the typical <code class="language-plaintext highlighter-rouge">Item</code> struct that is often defined for a linked list. As a design point, you may want to consider if the <code class="language-plaintext highlighter-rouge">bool</code>s are needed or if simply setting both next and previous pointers to <code class="language-plaintext highlighter-rouge">nullptr</code> would suffice to indicate that a node is NOT a member of a given label.</p>

<h4 id="msgtoken">
<a class="anchor" href="#msgtoken" aria-hidden="true"><span class="octicon octicon-link"></span></a>MsgToken</h4>

<p>One goal of object-oriented design is <strong>encapsulation</strong> which usually means giving only the minimum access necessary to third parties.  We want/need to provide the client some way of referencing a particular message and performing operations on it (accessing the message, navigating to neighboring messages for a given label, etc.). However, if we simply returned a pointer to a <code class="language-plaintext highlighter-rouge">MsgNode</code> the client would have access to the public members of the <code class="language-plaintext highlighter-rouge">MsgNode</code> struct. Instead, to limit access to only the operations we want to expose to clients, we define a <code class="language-plaintext highlighter-rouge">MsgToken</code> class that internally (privately), stores a pointer to a paritcular <code class="language-plaintext highlighter-rouge">MsgNode</code> as well as the overall <code class="language-plaintext highlighter-rouge">LabelList</code> that the <code class="language-plaintext highlighter-rouge">MsgNode</code> belongs to and provides public functions to access the message or navigate to the next or previous messages of a given label.</p>

<p><strong>A look ahead:</strong>  You should shortly learn about <code class="language-plaintext highlighter-rouge">iterator</code>s in the C++ STL container library.  This <code class="language-plaintext highlighter-rouge">MsgToken</code> object is very similar and should help the concept of iterators make more intuitive sense in the future.</p>

<p><img src="/cs104/homework/img/labellist-msgtoken.png" alt="drawing" width="100%" height="auto" id="responsive-image"></p>

<h3 id="c-and-background-information">
<a class="anchor" href="#c-and-background-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>C++ and Background Information</h3>

<p>There are several features of C++ that are used in the given <code class="language-plaintext highlighter-rouge">LabelList</code> implementation, but may be unfamiliar.  Read below to understand some of these features.  It would help to open the provided <code class="language-plaintext highlighter-rouge">labellist.h</code> and reference the provided code as each feature is described.</p>

<h4 id="forward-declarations">
<a class="anchor" href="#forward-declarations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Forward declarations</h4>

<p>Suppose two classes each contain pointers to each other. Which would you define first?  One could not be fully defined without defining the other.  And <code class="language-plaintext highlighter-rouge">#include</code> statements wouldn’t work because each would need to <code class="language-plaintext highlighter-rouge">#include</code> the other.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"TypeB.h"</span><span class="cp">
</span><span class="k">class</span> <span class="nc">TypeA</span> <span class="p">{</span>
  <span class="n">TypeB</span><span class="o">*</span> <span class="n">b</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"TypeA.h"</span><span class="cp">
</span><span class="k">class</span> <span class="nc">TypeB</span> <span class="p">{</span>
  <span class="n">TypeA</span><span class="o">*</span> <span class="n">a</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<p>To break the dependence, we can use a forward <em>declaration</em>.  A forward <em>declaration</em> effectively states a class/struct <em>will exist and be defined</em> without actually providing its definition (i.e. data and function members).  Given a forward declaration <strong>NO objects of that type can be declared</strong>, BUT <strong>pointers and references to that type CAN BE declared</strong>.</p>

<p>Thus, the example above could be made to work using these forward declarations:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// forward declaration</span>
<span class="k">class</span> <span class="nc">TypeB</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">TypeA</span> <span class="p">{</span>
  <span class="n">TypeB</span><span class="o">*</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// pointer to TypeB can be used</span>
<span class="p">};</span>
</code></pre></div></div>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// forward declaration</span>
<span class="k">class</span> <span class="nc">TypeA</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">TypeB</span> <span class="p">{</span>
  <span class="n">TypeA</span><span class="o">*</span> <span class="n">a</span><span class="p">;</span>  <span class="c1">// pointer to TypeA can be used</span>
<span class="p">};</span>
</code></pre></div></div>

<p>We use that approach in our <code class="language-plaintext highlighter-rouge">LabelList</code> to <code class="language-plaintext highlighter-rouge">typedef</code> a vector of <code class="language-plaintext highlighter-rouge">MsgNode*</code> before we actually define <code class="language-plaintext highlighter-rouge">MsgNode</code>, since it will contain those vectors as members.</p>

<h4 id="friend-classes">
<a class="anchor" href="#friend-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Friend classes</h4>

<p>Recall the motivation for the <code class="language-plaintext highlighter-rouge">MsgToken</code> class is to provide an access mechanism to 3rd-party clients without exposing the underlying structure of (and access to) our <code class="language-plaintext highlighter-rouge">MsgNode</code>.  However, we may want the <code class="language-plaintext highlighter-rouge">LabelList</code> methods to access private members or construct <code class="language-plaintext highlighter-rouge">MsgToken</code>s differently than the public interface.  Thus, we use C++’s <code class="language-plaintext highlighter-rouge">friend</code> declaration.  Classes can indicate that a particular non-member function <strong>OR another class</strong> is a <code class="language-plaintext highlighter-rouge">friend</code> and thus can access private members of the class.  Thus the <code class="language-plaintext highlighter-rouge">MsgToken</code> class specifies the <code class="language-plaintext highlighter-rouge">LabelList</code> as a <code class="language-plaintext highlighter-rouge">friend</code> class.  Note: <code class="language-plaintext highlighter-rouge">friend</code> declarations are one way (just because <code class="language-plaintext highlighter-rouge">A</code> declares <code class="language-plaintext highlighter-rouge">B</code> as a friend class, <code class="language-plaintext highlighter-rouge">A</code> is not automatically a friend of <code class="language-plaintext highlighter-rouge">B</code>).  However, because we are using nested types and <code class="language-plaintext highlighter-rouge">MsgToken</code> is a member of <code class="language-plaintext highlighter-rouge">LabelList</code>, then members have access to other members.  So as a member of <code class="language-plaintext highlighter-rouge">LabelList</code>,  <code class="language-plaintext highlighter-rouge">MsgToken</code>s have access to other <code class="language-plaintext highlighter-rouge">LabelList</code> members, such as <code class="language-plaintext highlighter-rouge">findLabelIndex</code>, etc.</p>

<p>Notice we also have two constructors for <code class="language-plaintext highlighter-rouge">MsgToken</code>.  The default constructor <code class="language-plaintext highlighter-rouge">MsgToken()</code> allows 3rd party clients to declare <code class="language-plaintext highlighter-rouge">MsgToken</code> objects but prevents initialization of its members to anything but an invalid state.  This forces clients to then assign the token with the return values produced by <code class="language-plaintext highlighter-rouge">LabelList</code> members (like <code class="language-plaintext highlighter-rouge">add()</code> or <code class="language-plaintext highlighter-rouge">find()</code>).  The initializing constructor <code class="language-plaintext highlighter-rouge">MsgToken(MsgNode* node, LabelList* list)</code> is private, so that only the friend <code class="language-plaintext highlighter-rouge">LabelList</code> class can use it to create valid tokens.  This again requires clients to use the <code class="language-plaintext highlighter-rouge">LabelList</code> interface to generate valid tokens.</p>

<h4 id="static-members">
<a class="anchor" href="#static-members" aria-hidden="true"><span class="octicon octicon-link"></span></a>Static members</h4>

<p>Often, certain data members or constants may be the same for <strong>ALL</strong> instances of the object and need not require a separate data member (storage) in each object.  Instead, we can define the data member once and have it be shared by all objects.  <code class="language-plaintext highlighter-rouge">LabelList</code> defines two static members:  the constant <code class="language-plaintext highlighter-rouge">size_t INVALID_LABEL</code> and the <code class="language-plaintext highlighter-rouge">MsgToken end_</code>.  <code class="language-plaintext highlighter-rouge">INVALID_LABEL</code> is used as the return value to the helper function <code class="language-plaintext highlighter-rouge">findLabelIndex</code> to indicate a non-existent label.  <code class="language-plaintext highlighter-rouge">end_</code> is returned by any <code class="language-plaintext highlighter-rouge">LabelList</code> member functions such as <code class="language-plaintext highlighter-rouge">find()</code> if the desired message cannot be found, or when attempting to advance to the next or previous message when none exists.</p>

<p>Once declared in the class with the <code class="language-plaintext highlighter-rouge">static</code> keyword, static members should generally be instantiated and initialized in the <code class="language-plaintext highlighter-rouge">.cpp</code> (though for integral values, newer versions of C++ allow them to be defined inline in the header file).  We intialize <code class="language-plaintext highlighter-rouge">INVALID_LABEL</code> to <code class="language-plaintext highlighter-rouge">(size_t)-1</code> since <code class="language-plaintext highlighter-rouge">-1</code> is all 1s in binary and will be the largest unsigned value when <strong>cast to an unsigned type</strong>.  Note: An example of a similar use of static members is the constant <code class="language-plaintext highlighter-rouge">npos</code> defined in <code class="language-plaintext highlighter-rouge">std::string</code> (really <code class="language-plaintext highlighter-rouge">std::basic_string</code>).  Info about its use is <a href="http://www.cplusplus.com/reference/string/string/npos/">here</a></p>

<p>We construct <code class="language-plaintext highlighter-rouge">end_</code> in the <code class="language-plaintext highlighter-rouge">labellist.cpp</code> implementation.  You can see that it looks like a global variable declaration, but is preceded with the <code class="language-plaintext highlighter-rouge">static</code> keyword and is <strong>scoped</strong> to indicate it is a member of the <code class="language-plaintext highlighter-rouge">LabelList</code> class.</p>

<p>You may need to use <code class="language-plaintext highlighter-rouge">INVALID_LABEL</code> as you implement certain functions.  Similarly, <code class="language-plaintext highlighter-rouge">end_</code> can be returned by functions that need to return a <code class="language-plaintext highlighter-rouge">MsgToken</code> when no valid token is possible.</p>

<h4 id="exceptions">
<a class="anchor" href="#exceptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exceptions</h4>

<p>Errors happen in programming. We receive unexpected or illegal inputs or arguments or we reach a state that we cannot handle. In those cases we can take some action like returning a specific value, but in some cases, based on the function signature, that may be impossible. An alternate approach is exceptions.</p>

<p>You should learn about exceptions by watching the <a href="http://ee.usc.edu/~redekopp/Streaming/cs104/cs104-exceptions/cs104-exceptions-proj.html">provided lecture video</a> and reading online or in the textbook.</p>

<ul>
  <li>In this homework, you do not need to catch any exceptions.</li>
  <li>However, we will ask you to throw certain exceptions in the following problem.  You can just use an appropriate <code class="language-plaintext highlighter-rouge">throw</code> statement.  Look in the skeleton code documentation for where/when to throw an exception.</li>
</ul>

<h3 id="implementation-tasks">
<a class="anchor" href="#implementation-tasks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Implementation Tasks</h3>

<p>To start your implementation, read over the provided <code class="language-plaintext highlighter-rouge">labellist.h</code> and the documentation provided for each member function. <strong>This documentation acts as a set of requirements by which you will be graded for partial credit</strong> (in addition to some automated tests).  Ensure you meet the specified requirements (including runtime).  <strong>You may declare additional data members and private helper functions but should never change the given public interface without express consent from the instructor</strong> (ask on our Q&amp;A site).</p>

<p>In <code class="language-plaintext highlighter-rouge">labellist.cpp</code> note the functions that have been specified as <code class="language-plaintext highlighter-rouge">Complete</code> or <code class="language-plaintext highlighter-rouge">To be completed</code>.  Only the latter are functions you need to write.</p>

<p>For the <code class="language-plaintext highlighter-rouge">MsgToken</code> class you need to complete the following functions, among others:</p>
<ul>
  <li>Comparison operators (<code class="language-plaintext highlighter-rouge">==</code> and <code class="language-plaintext highlighter-rouge">!=</code>).  Since a token refers to a message, what do you think you should actually compare when the user compares the entire <code class="language-plaintext highlighter-rouge">MsgToken</code> objects.</li>
  <li>The <code class="language-plaintext highlighter-rouge">operator bool()</code> allows <code class="language-plaintext highlighter-rouge">MsgToken</code>s to be used in the context of a condition (i.e. <code class="language-plaintext highlighter-rouge">if(token)</code>) and should return <code class="language-plaintext highlighter-rouge">true</code> for valid tokens.</li>
  <li>The <code class="language-plaintext highlighter-rouge">msg()</code> accessors for both <code class="language-plaintext highlighter-rouge">const</code> and non-<code class="language-plaintext highlighter-rouge">const</code> contexts should return the underlying <code class="language-plaintext highlighter-rouge">std::string</code> message</li>
  <li>The <code class="language-plaintext highlighter-rouge">next</code> and <code class="language-plaintext highlighter-rouge">prev</code> routines to update the token to refer to the appropriate message.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ostream</code> operator (<code class="language-plaintext highlighter-rouge">operator&lt;&lt;</code>) to output the underlying message. Do NOT output a newline at the end.</li>
  <li>If you find yourself duplicating work or wanting to break a complex task into simpler tasks, consider adding <strong>private</strong> member functions to help.</li>
</ul>

<p>For the <code class="language-plaintext highlighter-rouge">LabelList</code> class, you will need to implement the following:</p>
<ul>
  <li>Constructor and destructor (ensuring no memory leaks, etc.)</li>
  <li>
<code class="language-plaintext highlighter-rouge">clear</code> to reset the list to an empty state, removing and deleting all messages in the list.</li>
  <li>
<code class="language-plaintext highlighter-rouge">empty</code> should return true if no messages exist in the entire list.</li>
  <li>
<code class="language-plaintext highlighter-rouge">add</code>/<code class="language-plaintext highlighter-rouge">remove</code> should add a new message to the <code class="language-plaintext highlighter-rouge">all</code> list while remove should delete the message node, removing it from all labels (lists) of which it is a member.</li>
  <li>
<code class="language-plaintext highlighter-rouge">label/unlabel</code> should cause the referenced message to be added or removed from membership of the given label.</li>
  <li>
<code class="language-plaintext highlighter-rouge">find</code> should return a desired message based on its string content or position (0-based index) in the given label’s list.</li>
  <li>the <code class="language-plaintext highlighter-rouge">findLabelIndex</code> helper function to return the index/level of a given label (i.e. what index in the <code class="language-plaintext highlighter-rouge">heads_</code> and <code class="language-plaintext highlighter-rouge">next_/prev_</code> vectors corresponds to the specified label). <strong>Note:</strong> <code class="language-plaintext highlighter-rouge">findLabelIndex</code> returns <code class="language-plaintext highlighter-rouge">INVALID_LABEL</code> when a message cannot be found while <code class="language-plaintext highlighter-rouge">getLabelIndex</code> will throw an exception (i.e. <code class="language-plaintext highlighter-rouge">getLabelIndex</code> should be used when a correspond label <strong>SHOULD</strong> be defined while <code class="language-plaintext highlighter-rouge">findLabelIndex</code> should be used if a label may appropriately not exist yet)</li>
  <li>If you find yourself duplicating work or wanting to break a complex task into simpler tasks, consider adding <strong>private</strong> member functions to help.</li>
</ul>

<h3 id="coding-and-testing">
<a class="anchor" href="#coding-and-testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Coding and Testing</h3>

<h4 id="coding-approach">
<a class="anchor" href="#coding-approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Coding Approach</h4>

<p>As mentioned earlier, it would be wise to code and test incrementally and not try to write all the code at once.  A possible approach would be:</p>
<ul>
  <li>Implement just the base necessities of the <code class="language-plaintext highlighter-rouge">MsgNode</code>, <code class="language-plaintext highlighter-rouge">MsgToken</code>, and <code class="language-plaintext highlighter-rouge">LabelList</code> class to <strong>add</strong> and <strong>remove</strong> nodes from the <code class="language-plaintext highlighter-rouge">all</code> list/label.  Test your code in <code class="language-plaintext highlighter-rouge">labellist-test.cpp</code> by creating a <code class="language-plaintext highlighter-rouge">Labellist</code>, adding a few nodes, saving the tokens, and using them to access the message and/or remove the messages.  Use <code class="language-plaintext highlighter-rouge">LabelList::print()</code> to verify the contents visually.</li>
  <li>Add the label method and more tests to use additional labels, again using <code class="language-plaintext highlighter-rouge">LabelList::print()</code> to verify the contents of each list visually.  Note: <code class="language-plaintext highlighter-rouge">print()</code> only traverses a list in the forward direction.  If you have any errors setting previous pointers, they may remain hidden.  Consider using the <code class="language-plaintext highlighter-rouge">MsgToken</code>s to traverse a label list in the backward direction.</li>
  <li>Add the unlabel method and test it</li>
  <li>Add any remaining functionality.</li>
</ul>

<h4 id="unit-tests">
<a class="anchor" href="#unit-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Unit Tests</h4>

<p>Within several days of the assignment posting, we will provide suite of unit tests that will also be utilized for automated grading. Information on how to run those tests will either be posted here or on our Q&amp;A site.</p>

<h4 id="using-valgrind">
<a class="anchor" href="#using-valgrind" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Valgrind</h4>

<p>Remember, it is <strong>ALWAYS</strong> a good idea to run your tests through <code class="language-plaintext highlighter-rouge">valgrind</code>.  You can do so by executing the following command line.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> valgrind <span class="nt">--tool</span><span class="o">=</span>memcheck <span class="nt">--leak-check</span><span class="o">=</span><span class="nb">yes</span> ./labellist_tests
</code></pre></div></div>

<p>Scroll through the output and look for invalid reads, writes, and the heap usage summary at the end.  However, please note, that just as a doctor can only diagnose you based on the symptoms or the info you provide, <strong>valgrind can only check for errors based on what the test code exercises</strong>.  If the test code never triggers a function and there are memory leaks or invalid accesses in that function, <code class="language-plaintext highlighter-rouge">valgrind</code> will say no errors occurred.  You are only as good as what your tests exercise, so it helps to write tests that will trigger each line of code in your class (this is often referred to as <em>code coverage</em>).</p>

<h3 id="requirements">
<a class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h3>

<ul>
  <li>You <strong>MUST</strong> meet all runtime, exception, and other requirements listed in the documentation/comment of each member function given in the skeleton code header file.</li>
  <li>You may not alter the public interface of <code class="language-plaintext highlighter-rouge">LabelList</code> provided but can add data members and private helper functions.</li>
  <li>You may not alter the public interface of the <code class="language-plaintext highlighter-rouge">MsgToken</code> or <code class="language-plaintext highlighter-rouge">MsgNode</code> classes but may add to the public interface as well as adding private data or helper functions.</li>
  <li>We want you to practice with linked lists and pointers. Thus, no use of any other container is allowed (i.e. no additional <code class="language-plaintext highlighter-rouge">vector</code>s or any other C++ data structures beyond the already given data members can be used).  <strong>Failure to follow this guideline will result in a 0 since it likely alleviates the need to practice the desired pointer/linked list skills.</strong>
</li>
</ul>

<h3 id="related-videos">
<a class="anchor" href="#related-videos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Related Videos</h3>

<ul>
  <li>A <a href="https://ee.usc.edu/~redekopp/Streaming/cs104/labellist-debugging/labellist-debugging.html">video tutorial on debugging</a> is available and demonstrates techniques that can be used to debug errors in your labellist.</li>
</ul>

<h2 id="checkpoint">
<a class="anchor" href="#checkpoint" aria-hidden="true"><span class="octicon octicon-link"></span></a>Checkpoint</h2>

<p>For checkpoint credit, commit and push your <code class="language-plaintext highlighter-rouge">hw-username</code> repo with a <code class="language-plaintext highlighter-rouge">hw1</code> subfolder that contains:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">hw1.txt</code> with your answers to question 1 and 2</li>
  <li>
<code class="language-plaintext highlighter-rouge">q3_answers.pdf</code> or <code class="language-plaintext highlighter-rouge">hw1.pdf</code> that AT least contains your answer and justification to runtime question <strong>3a</strong>
</li>
  <li>a version of <code class="language-plaintext highlighter-rouge">labellist.h/cpp</code> that can pass the <code class="language-plaintext highlighter-rouge">hw1-checkpt</code> tests in <code class="language-plaintext highlighter-rouge">hw1-checkpt.cpp</code>.  To attempt to compile and run the <code class="language-plaintext highlighter-rouge">hw1-checkpt</code> tests, type <code class="language-plaintext highlighter-rouge">make check</code> at the command line which will both compile AND run the tests (if the compilation succeeded). To pass the checkpoint tests you must have implementation of the
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">LabelList</code> constructor, <code class="language-plaintext highlighter-rouge">add()</code>, and <code class="language-plaintext highlighter-rouge">label()</code>
</li>
      <li>
<code class="language-plaintext highlighter-rouge">LabelList::MsgToken</code> member functions <code class="language-plaintext highlighter-rouge">msg()</code> (both const and non-const version) and operators <code class="language-plaintext highlighter-rouge">==</code>, <code class="language-plaintext highlighter-rouge">!=</code> and <code class="language-plaintext highlighter-rouge">bool</code>
</li>
    </ul>
  </li>
  <li>
<strong>THEN</strong> you must submit your SHA on our Submit page linked from the <a href="/cs104/homeworks/">Homework Page</a>
</li>
</ul>

<h2 id="submission-files">
<a class="anchor" href="#submission-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Submission Files</h2>

<p>Ensure you add/commit/push all your source code files, <code class="language-plaintext highlighter-rouge">Makefile</code>, and written problem files.  Do <strong>NOT</strong> commit/push any test suite folder/files that we provide from any folder other than the <code class="language-plaintext highlighter-rouge">resources/hw1</code> repo.</p>

<p><strong>WAIT</strong> You aren’t done yet.  Complete the last section below to ensure you’ve committed all your code.</p>

<h3 id="commit-then-re-clone-your-repository">
<a class="anchor" href="#commit-then-re-clone-your-repository" aria-hidden="true"><span class="octicon octicon-link"></span></a>Commit then Re-clone your Repository</h3>

<p>Be sure to add, commit, and push your code in your hw1 directory to your <code class="language-plaintext highlighter-rouge">hw-username</code> repository.  Now double-check what you’ve committed, by following the directions below (failure to do so may result in point deductions):</p>

<ol>
  <li>In your terminal, <code class="language-plaintext highlighter-rouge">cd</code> to the folder that has your <code class="language-plaintext highlighter-rouge">resources</code> and <code class="language-plaintext highlighter-rouge">hw-username</code>
</li>
  <li>Create a <code class="language-plaintext highlighter-rouge">verify-hw1</code> directory: <code class="language-plaintext highlighter-rouge">$ mkdir verify-hw1</code>
</li>
  <li>Go into that directory: <code class="language-plaintext highlighter-rouge">$ cd verify-hw1</code>
</li>
  <li>Clone your hw_username repo: <code class="language-plaintext highlighter-rouge">$ git clone git@github.com:usc-csci104-spring2022/hw-username.git</code>
</li>
  <li>Go into your hw1 folder <code class="language-plaintext highlighter-rouge">$ cd hw-username/hw1</code>
</li>
  <li>Switch over to a docker shell, navigate to the same <code class="language-plaintext highlighter-rouge">verify-hw1/hw-username/hw1</code> folder.</li>
  <li>Recompile and rerun your programs and tests to ensure that what you submitted works.  You may need to copy over a test-suite folder from the <code class="language-plaintext highlighter-rouge">resources</code> repo, if one was provided.</li>
</ol>


  </div>
  <div class="aside right">
  </div>
</div>
<script type="text/javascript" src="/cs104/assets/js/asides.js"></script>

  </body>
</html>
